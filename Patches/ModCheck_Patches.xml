<?xml version="1.0" encoding="utf-8"?>

<Patch>

  <!-- Combat Extended -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Combat Extended</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "ReloadTurrets"]/workType</xpath>
      <value>
        <workType>Rearming</workType>
      </value>
    </match>
  </Operation>

  <!-- Cupro's Drinks - Core -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Cupro's Drinks - Core</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "CPD_DoBillsDrinksTable"]/workType</xpath>
      <value>
        <workType>Brewing</workType>
      </value>
    </match>
  </Operation>

  <!-- Cupro's Drinks - Alcohol -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Cupro's Drinks - Alcohol</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "CPD_WorkGiver_TakeAlcoholOutOfAlcoholBarrel" or defName = "CPD_WorkGiver_FillAlcoholBarrel"]/workType</xpath>
      <value>
        <workType>Brewing</workType>
      </value>
    </match>
  </Operation>

  <!-- VGP Garden Drinks -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>VGP Garden Drinks</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "VG_WorkGiver_FillUniversalFermenter" or defName = "VG_WorkGiver_TakeProductOutOfUniversalFermenter"]/workType</xpath>
      <value>
        <workType>Brewing</workType>
      </value>
    </match>
  </Operation>

  <!-- VGP Garden Tools -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>VGP Garden Tools</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "VG_WorkGiver_FillUniversalFermenter" or defName = "VG_WorkGiver_TakeProductOutOfUniversalFermenter"]/workType</xpath>
      <value>
        <workType>Brewing</workType>
      </value>
    </match>
  </Operation>

  <!-- VGP Garden Gourmet -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>VGP Garden Gourmet</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "GG_WorkGiver_FillUniversalFermenter" or defName = "GG_WorkGiver_TakeProductOutOfUniversalFermenter"]/workType</xpath>
      <value>
        <workType>Brewing</workType>
      </value>
    </match>
  </Operation>

  <!-- Fluffy Breakdowns -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Fluffy Breakdowns</li>
    </mods>
    <match Class="PatchOperationSequence">
      <operations>
        <li Class="PatchOperationReplace">
          <xpath>*/WorkGiverDef[defName = "FluffyBreakdowns_Maintenance"]/workType</xpath>
          <value>
            <workType>Repairing</workType>
          </value>
        </li>
        <li Class="PatchOperationReplace">
          <xpath>*/WorkGiverDef[defName = "FluffyBreakdowns_Maintenance"]/priorityInType</xpath>
          <value>
            <priorityInType>75</priorityInType>
          </value>
        </li>
      </operations>
    </match>
  </Operation>

  <!-- Dubs Rimkit -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Dubs Rimkit</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "FixBrokenDownBuildingWithKit"]/workType</xpath>
      <value>
        <workType>Repairing</workType>
      </value>
    </match>
  </Operation>

  <!-- Expanded Roofing -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Expanded Roofing</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "PerformRoofMaintenance"]/workType</xpath>
      <value>
        <workType>Repairing</workType>
      </value>
    </match>
  </Operation>

  <!-- Misc. Bees'n'Honey -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Misc. Bees'n'Honey</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "GetHoney"]/workType</xpath>
      <value>
        <workType>Harvesting</workType>
      </value>
    </match>
  </Operation>

  <!-- Refactored Work Priorities -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Refactored Work Priorities</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "HarvestYieldingPlants"]/workType</xpath>
      <value>
        <workType>Harvesting</workType>
      </value>
    </match>
  </Operation>

  <!-- Omni Core Drill -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Omni Core Drill</li>
      <li>Omni Core Drill B17</li>
      <li>Omni Core Drill B18</li>
      <li>Omni Core Drill B19</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "DoBillsCoreMine"]/workType</xpath>
      <value>
        <workType>Drilling</workType>
      </value>
    </match>
  </Operation>

  <!-- Smokeleaf Industry -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Smokeleaf Industry</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "DoBillsCultivationBench" or defName = "DoBillsAutoTrimmer" or defName = "DoBillsProduceMedicinals"]/workType</xpath>
      <value>
        <workType>Drugs</workType>
      </value>
    </match>
  </Operation>

  <!-- Drug Overhaul -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Drug Overhaul</li>
      <li>Drug Overhaul A18</li>
      <li>Drug Overhaul B18</li>
      <li>Drug Overhaul B19</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "MakeMethAtADVDrug"]/workType</xpath>
      <value>
        <workType>Drugs</workType>
      </value>
    </match>
  </Operation>

  <!-- Butchering Spot -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Butchering Spot</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "DoBillsButcherFleshSpot"]/workType</xpath>
      <value>
        <workType>Butchering</workType>
      </value>
    </match>
  </Operation>

</Patch>
